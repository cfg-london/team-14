<!DOCTYPE html>
<html>
<head>

<link rel="stylesheet" type="text/css" href="css/landing-page.css" />
<!-- Load the Paper.js library -->
<script type="text/javascript" src="js/paper.js"></script>
<!-- Define inlined PaperScript associate it with myCanvas -->
<script type="text/paperscript" canvas="myCanvas">

var subject = "chem";

var initPoint = new Point(1000, 1000);

var initHex = new Path.RegularPolygon(initPoint, 6, 100);
initHex.rotate(30);
initHex.strokeColor = '#ff5151';
initHex.fillColor = '#333333';
initHex.strokeWidth = 3;

//phys/chem/med/lit/peace/econ
var imgSub = new Raster(subject);
imgSub.scale(0.5);
imgSub.position = initPoint;

//receive/parse json
var fields = ["Nuclear Chemistry", "Biochemistry", "Theoretical Chemistry", "Genetics", "Physical Chemistry"];

//search input for laureates
//["Einstein", "Curie"],["A", "B", "C"],["foo", "bar"]
var laureates = [["Ernest Rutherford", "Marie Curie", "Irene Joliot-Curie"],["Jacques Dubochet", "Joachim Frank", "Richard Henderson", "Venkatraman Ramakrishnan"], ["Linus Pauling"], ["Aziz Sancar"], ["Ahmed Zewail"]];

var rad = 100;
var dist = 500;

//var prevBottom = new Point(width/2, 235);

var angle = 0;

for(i = 0; i < laureates.length; i++){
    //create hexagon for each field
    var point = new Point(initPoint.x + Math.sin(angle) * dist, initPoint.y - Math.cos(angle)*dist);
    
    var line = Path.Line(initPoint, point);
    line.strokeColor = '#ff5151';
    line.sendToBack();
        
    var fieldHex = new Path.RegularPolygon(point, 6, rad);
    fieldHex.rotate(30);
    fieldHex.strokeColor = '#ff5151';
    fieldHex.fillColor = '#333333';
    fieldHex.strokeWidth = 3;
    
    var text = new PointText(point);
    text.justification = 'center';
    text.fillColor = 'white';
    text.fontSize = '18';
    text.content = fields[i];
    
    
    var leftPoint = new Point(point.x - rad, point.y);
    var rightPoint =  new Point(point.x + rad, point.y);
    var prevBottom = new Point(point.x, point.y + rad*0.89);
    //create circle for each laureate
    var tempAngle = angle - Math.PI/2;
    for(x = 0; x < laureates[i].length; x++){        
        //calc centre + radius
        var circPoint = new Point(point.x + Math.sin(tempAngle)*dist/2, point.y - Math.cos(tempAngle)*dist/2);
        
        var line = new Path.Line(point, circPoint);
        line.strokeColor = 'white';
        line.sendToBack();
        
        var laureateCircle = new Shape.Circle(circPoint, 50);
        laureateCircle.fillColor = 'white';
        /*
        if(i == 0 && x == 0){
            var rast = new Raster('rutherford');
            laureateCircle.onMouseEnter = function(event ){
                //create tab thing
                rast.position = new Point(circPoint.x - 50 - rast.size.width, circPoint.y - 50 - rast.size.height);
                alert(rast.posi);
                this.scale(1.1);
            }
            
            laureateCircle.onMouseLeave = function(event) {
                rast.remove();
                this.scale(1/1.1);
            }
        }else{*/
            laureateCircle.onMouseEnter = function(event ){
                //create tab thing
                document.getElementById('rutherford').classList.remove('visuallyhidden');
                this.scale(1.1);
            }
            
            laureateCircle.onMouseLeave = function(event) {
                document.getElementById('rutherford').classList.add("visuallyhidden");
                this.scale(1/1.1);
            }        
            laureateCircle.onClick = function(event){
                window.location.replace("story-mode/story.php?id=167");
            }
        //}
        
       
        
        //add image to circle
        //add listener to circle
        tempAngle += Math.PI / (laureates[i].length-1);
    }
    
    angle += 2*Math.PI / laureates.length;
}


function onFrame(event){
  
  
}

</script>
</head>
<body onLoad="window.scroll(160, 520)">
<canvas id="myCanvas" width=2000 height=2000></canvas>

<img id="phys" class="visuallyhidden" src="img/phys.png" \>
<img id="chem" class="visuallyhidden" src="img/chem.png" \>
<img id="med" class="visuallyhidden" src="img/med.png" \>
<img id="lit" class="visuallyhidden" src="img/lit.png" \>
<img id="peace" class="visuallyhidden" src="img/peace.png" \>
<img id="econ" class="visuallyhidden" src="img/econ.png" \>
<img id="rutherford" class="visuallyhidden" src="img/rutherford.png" style="position:absolute;left:200px;top:200px;"\>

</body>
</html>